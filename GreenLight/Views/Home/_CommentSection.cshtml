@using GreenLight.Models
@model IEnumerable<GreenLight.Models.Comment>

@Html.Partial("_AddComment",new Comment(ViewBag.postId))


<div class="col-lg-12">
    <h4>댓글 <span class="badge">@Model.Count()</span></h4> <br />
    <table class="commentSection table">
        @foreach (var c in Model.OrderBy(a => a.CreatedOn))
        {
            <tr>
                <td>
                    Picture
                </td>
                <td>
                    @Html.DisplayFor(a => c.Writing) <br />
                    <span class="likeInfo text-muted">Likes: @Html.DisplayFor(a => c.Likes)</span>
                </td>
                <td class="deleteCommentColumn">
                    @if (User.Identity.IsAuthenticated)
                    {
                        <div class="deleteComment">
                            <button type="button" class="btn btn-danger" data-commentid="@c.Id">댓글 삭제</button>
                        </div>
                    }
                </td>
            </tr>
        }
    </table>
</div>
